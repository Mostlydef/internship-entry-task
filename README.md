# Tictactoe NxN API (.NET 9)

Реализация REST API для игры "Крестики-нолики" размером N×N (где N ≥ 3) для двух игроков. 
Игра поддерживает нестандартное правило: каждый третий ход есть 10% шанс, что на поле будет поставлен символ противника.

## Стэк
 - .Net 9;
 - PostgreSQL;
 - Entity Framework Core;
 - Docker / Docker Compose;
 - xUnit (unit + integration tests);
 - CI (GitHub Actions).
## Возможности
 - Создание новой игры;
 - Совершение ходов;
 - Получение текущего состояния игры;
 - Фиксация победы или ничьей;
 - Обработка одновременных запросов (идемпотентность;
 - Поддержка сессии после перезапуска контейнера;
 - Здоровье приложения по эндпоинту '/health'.
## Архитектура
Проект реализован по принципам чистой архитектуры:
 - Domain - бизнес-логика и сущности;
 - Application - интерфейсы, use cases, DTO, сервисы;
 - Infrastructure - работа с БД (PostgreSQL), миграции, реализация репозиториев;
 - Web - HTTP API, контроллеры, Swagger, middleware.
## Конфигурация
Размер поля и условие победы настраиваются через переменные окружения:
|Переменная      |Описаниe                    |
|----------------|----------------------------|
|BOARD_SIZE      |Размер игрового поля        |
|WIN_CONDITION   |Количество подряд для победы|
|CONNECTIONSTRING|Строка подключения к БД     |
## Запуск
Запуск через Docker: 'docker-compose up --build'
## Тестирование
Локально: 'dotnet test'.
Автоматический запуск в CI.
## Эндпоинты
|Метод     |URL                 |Описание                         |
|----------|--------------------|---------------------------------|
|POST      |/api/Game           |Создание новой игры              |
|GET       |/api/Game/{id}      |Получение игры по id             |
|POST      |/api/Game/{id}/Moves|Ходы игроков                     |
|GET       |/api/Game/{id}/Moves|Получение всех ходов игры по id  |
|GET       |/health             |Проверка состояния               |


